{{define "content"}}
<div class="container mt-5">
    <!-- Приветственный блок -->
    <div class="welcome-card p-4 mb-5 rounded shadow-sm">
        <h1 class="display-5 fw-bold">Добро пожаловать, <span class="text-primary">{{.User.Username}}</span>!</h1>
        <p class="lead">Рады видеть вас снова на нашем сайте</p>
        <div class="welcome-divider"></div>
        <p class="text-muted">Здесь вы всегда найдете актуальную информацию и интересные материалы</p>
    </div>

    <!-- Блок новостей -->
    <div class="news-section">
        <h2 class="mb-4"><i class="bi bi-newspaper me-2"></i>Последние новости</h2>
        
        {{if .News}}
            <div class="row gy-4">
                {{range .News}}
                <div class="col-12">
                    <div class="news-card card shadow-sm">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-3">
                                <h3 class="card-title mb-0">{{.Title}}</h3>
                                <small class="text-muted bg-light px-2 py-1 rounded">
                                    {{.CreatedAt.Format "02.01.2006 15:04"}}
                                </small>
                            </div>
                            
                            <!-- Кликабельное имя автора -->
                            <div class="news-author mb-2">
                                <a href="/user?id={{.Owner}}" class="text-decoration-none">
                                    <span class="badge bg-primary bg-opacity-10 text-primary p-2">
                                        <i class="bi bi-person-fill me-1"></i>
                                        {{if .OwnerNAME}}
                                            {{.OwnerNAME}}
                                        {{else}}
                                            Аноним
                                        {{end}}
                                    </span>
                                </a>
                            </div>
                            
                            <div class="news-content mb-3">
                                {{.Body}}
                            </div>
                        </div>
                    </div>
                </div>
                {{end}}
            </div>
        {{else}}
            <div class="empty-news alert alert-light rounded shadow-sm text-center py-5">
                <i class="bi bi-info-circle-fill text-muted" style="font-size: 2.5rem;"></i>
                <h4 class="mt-3 text-muted">Новостей пока нет</h4>
                <p class="text-muted">Скоро здесь появятся свежие материалы</p>
            </div>
        {{end}}
    </div>
</div>

<style>
    .welcome-card {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-left: 5px solid #0d6efd;
        text-align: center;
    }
    
    .welcome-divider {
        height: 2px;
        background: linear-gradient(90deg, rgba(13,110,253,0.1) 0%, rgba(13,110,253,0.8) 50%, rgba(13,110,253,0.1) 100%);
        margin: 1.5rem 0;
    }
    
    .news-card {
        transition: all 0.3s ease;
        border: none;
        border-radius: 12px;
        overflow: hidden;
        margin-bottom: 1.5rem;
    }
    
    .news-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
    }
    
    .news-content {
        line-height: 1.6;
        color: #333;
        white-space: pre-line;
    }
    
    .empty-news {
        background: #f8f9fa;
        border: 2px dashed #dee2e6;
    }
    
    .card-title {
        color: #0d6efd;
        font-weight: 600;
    }
</style>
{{end}}